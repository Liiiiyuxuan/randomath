%\begin{} ----- DEFINITION box (light yellow)

\newcounter{deff}[section]\setcounter{deff}{0}
\renewcommand{\thedeff}{\arabic{section}.\arabic{deff}}
\newenvironment{deff}[2][]{%
\refstepcounter{deff}%
\ifstrempty{#1}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=yellow!20]
    {\strut Definition~\thedeff};}}
}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=yellow!20]
    {\strut Definition~\thedeff:~#1};}}%
}%
\mdfsetup{innertopmargin=2.5pt,linecolor=yellow!20,%
    linewidth=2pt,topline=true,%
    frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}

%\end{}

%\begin{} ----- EXAMPLE box (light green)

\newcounter{examplee}[section]\setcounter{examplee}{0}
\renewcommand{\theexamplee}{\arabic{section}.\arabic{examplee}}
\newenvironment{examplee}[2][]{%
\refstepcounter{examplee}%
\ifstrempty{#1}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=green!20]
    {\strut Example~\theexamplee};}}
}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=green!20]
    {\strut Example~\theexamplee:~#1};}}%
}%
\mdfsetup{innertopmargin=2.5pt,linecolor=green!20,%
    linewidth=2pt,topline=true,%
    frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}

%\end{}

%\begin{} ----- THEOREM box (orange)

\newcounter{thmm}[section]\setcounter{thmm}{0}
\renewcommand{\thethmm}{\arabic{section}.\arabic{thmm}}
\newenvironment{thmm}[2][]{%
\refstepcounter{thmm}%
\ifstrempty{#1}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=orange!80]
    {\strut Theorem~\thethmm};}}
}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=orange!80]
    {\strut Theorem~\thethmm:~#1};}}%
}%
\mdfsetup{innertopmargin=2.5pt,linecolor=orange!80,%
    linewidth=2pt,topline=true,%
    frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}

%\end{}

%\begin{} ----- LEMMA box (lavender)

\usepackage[framemethod=TikZ]{mdframed}

\newcounter{lemm}[section]\setcounter{lemm}{0}
\renewcommand{\thelemm}{\arabic{section}.\arabic{lemm}}
\newenvironment{lemm}[2][]{%
\refstepcounter{lemm}%
\ifstrempty{#1}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=blue!35]
    {\strut Lemma~\thelemm};}}
}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=blue!35]
    {\strut Lemma~\thelemm:~#1};}}%
}%
\mdfsetup{innertopmargin=2.5pt,linecolor=blue!35,%
    linewidth=2pt,topline=true,%
    frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}

%\end{}

%\begin{} ----- PROPOSITION box (pink)

\newcounter{propp}[section]\setcounter{propp}{0}
\renewcommand{\thepropp}{\arabic{section}.\arabic{propp}}
\newenvironment{propp}[2][]{%
\refstepcounter{propp}%
\ifstrempty{#1}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=red!20]
    {\strut Proposition~\thepropp};}}
}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=red!20]
    {\strut Proposition~\thepropp:~#1};}}%
}%
\mdfsetup{innertopmargin=2.5pt,linecolor=red!20,%
    linewidth=2pt,topline=true,%
    frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}

%\end{}

%\begin{} ----- COROLLARY box (bright green)

\usepackage[framemethod=TikZ]{mdframed}

\newcounter{corr}[section]\setcounter{corr}{0}
\renewcommand{\thecorr}{\arabic{section}.\arabic{corr}}
\newenvironment{corr}[2][]{%
\refstepcounter{corr}%
\ifstrempty{#1}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=green!20]
    {\strut Corollary~\thecorr};}}
}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=green!50]
    {\strut Corollary~\thecorr:~#1};}}%
}%
\mdfsetup{innertopmargin=2.5pt,linecolor=green!50,%
    linewidth=2pt,topline=true,%
    frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}

%\end{}

%\begin{} ----- RESULT box (red)

\newcounter{result}[section]\setcounter{result}{0}
\renewcommand{\theresult}{\arabic{section}.\arabic{result}}
\newenvironment{result}[2][]{%
\refstepcounter{result}%
\ifstrempty{#1}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=red!70]
    {\strut Result~\theresult};}}
}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=red!70]
    {\strut Result~\theresult:~#1};}}%
}%
\mdfsetup{innertopmargin=2.5pt,linecolor=red!70,%
    linewidth=2pt,topline=true,%
    frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}

%\end{}

%\begin{} ----- DISCOVERY box (purple)

\newcounter{discovery}[section]\setcounter{discovery}{0}
\renewcommand{\thediscovery}{\arabic{section}.\arabic{discovery}}
\newenvironment{discovery}[2][]{%
\refstepcounter{discovery}%
\ifstrempty{#1}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=blue!50]
    {\strut Discovery~\thediscovery};}}
}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=blue!50]
    {\strut Discovery~\thediscovery:~#1};}}%
}%
\mdfsetup{innertopmargin=2.5pt,linecolor=blue!65,%
    linewidth=2pt,topline=true,%
    frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}

%\end{}

%\begin{} ----- ALGORITHM box (gray)

\newcounter{algo}[section]\setcounter{algo}{0}
\renewcommand{\thealgo}{\arabic{section}.\arabic{algo}}
\newenvironment{algo}[2][]{%
\refstepcounter{algo}%
\ifstrempty{#1}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=gray!45]
    {\strut Algorithm~\thealgo};}}
}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=gray!45]
    {\strut Algorithm~\thealgo:~#1};}}%
}%
\mdfsetup{innertopmargin=2.5pt,linecolor=gray!45,%
    linewidth=2pt,topline=true,%
    frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}

%\end{}

%\begin{} ----- note box (orange)

\newcounter{note}[section]\setcounter{note}{0}
\renewcommand{\thenote}{\arabic{section}.\arabic{note}}
\newenvironment{note}[2][]{%
\refstepcounter{note}%
\ifstrempty{#1}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=white]
    {\strut Note~\thenote};}}
}%
{\mdfsetup{%
    frametitle={%
    \tikz[baseline=(current bounding box.east),outer sep=0pt]
    \node[anchor=east,rectangle,fill=red]
    {\strut Note~\thenote:~#1};}}%
}%
\mdfsetup{innertopmargin=1.5pt,linecolor=orange,%
    linewidth=2pt,topline=true,bottomline=false,rightline=false,leftline=true,
    frametitleaboveskip=\dimexpr-\ht\strutbox\relax
}
\begin{mdframed}[]\relax%
\label{#2}}{\end{mdframed}}

%\end{}

%\begin{} 

\newenvironment{solution}{\noindent {\bf Solution:}}{$\Box$ \vspace{2 ex}}

\newenvironment*{exercise}{\noindent {\textcolor{red}{\textbf{Exercise: }}}}

\newenvironment*{remarks}{\noindent {\textcolor{magenta}{\textbf{Remark: }}}}

%\end{}